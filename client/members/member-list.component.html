<h1 class="ui header">{{pageTitle}}</h1>

<div class="ui container">
<sm-segment class="raised">
 
    <!-- the filter -->
    <div class="ui grid">
        <div class="four wide column">
            <div>Filter by:</div>
            <div><input type='text'  [(ngModel)]='listFilter' /></div>
        </div>
        <div class="twelve wide column">
            <div *ngIf='listFilter' >
                <div><h3>Filtered by: {{listFilter}} </h3></div>
            </div>
        </div>
    </div>

    <div class='has-error' *ngIf='errorMessage'>{{errorMessage}}</div>
 
  <table class="ui celled striped table"
    *ngIf="members && members.length" >
  <thead>
                    <tr>
                        <th>
                            <button class='btn btn-primary' (click)='toggleImage()'>
                                {{showImage ? 'Hide' : 'Show'}} Image
                            </button>
                        </th>
                        <th>Last Name</th>
                        <th>First Name</th>
                        <th>Born</th>
                        <th>Key</th>
                        <th>5 Star Rating</th>
                    </tr>

  </thead>

  <tbody>
                    <tr *ngFor='let member of members | memberFilter:listFilter :3'>
                        <td>
                            <img *ngIf='showImage' [src]='member.imageUrl'
                                 [title]='member.memberName | uppercase'
                                 [style.width.px]='imageWidth' 
                                 [style.margin.px]='imageMargin'>
                        </td>
                        <td> {{member.last_name}} </td>
                        <td>{{ member.first_name | titleCase }}</td>
                        <td>{{ member.birth_year > 0 ? member.birth_year : '' }}</td>
                        <td>{{ member.key }}</td>
                        <td><kz-star [rating]='member.starRating'
                                (ratingClicked)='onRatingClicked($event)'></kz-star>
                        </td>
                    </tr>
  </tbody>
  </table>

    
</sm-segment>
</div>
